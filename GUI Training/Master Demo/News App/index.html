<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Application</title>

    <link rel="stylesheet" href="css/style.css">

    <link rel="icon" type="image/x-icon" href="images/favicon.ico">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

</head>

<body>

    <nav>
        <div class="main-nav container flex">
            <a href="index.html" onclick="reload()" class="company-logo">
                <img src="./images/logo.png" alt="company logo" onclick="onNavItemClick('India')">
            </a>
            <div class="nav-links">
                <ul class="flex">
                    <li class="hover-link nav-item" id="cricket">Cricket</li>
                    <li class="hover-link nav-item" id="movies">Movies</li>
                    <li class="hover-link nav-item" id="finance">Finance</li>
                    <li class="hover-link nav-item" id="politics">Politics</li>
                    <li class="hover-link nav-item" id="games">Games</li>
                </ul>
            </div>
            <div class="search-bar flex">
                <input id="search-text" type="text" class="news-input" placeholder="e.g. Science">
                <button id="search-button" class="search-button">Search</button>
            </div>
            <div>
                <a href="register.html" class="btn btn-warning" id="register" style="display: none;">Register</a>
            </div>
            <div id="users">
                <button id="logout-button" class="btn btn-danger" style="display: none;">Logout</button>
                <a href="login.html" id="login" class="btn btn-warning" style="display: none;">Login</a>
            </div>
        </div>
    </nav>

    <main>
        <div class="cards-container container flex" id="cards-container">

        </div>
    </main>

    <div class="card news-card" style="display: none;" id="news-card">
        <div class="card-header">
            <img src="https://via.placeholder.com/400x200" alt="news-image" id="news-img">
        </div>
        <div class="card-content">
            <h3 id="news-title">This is the Title</h3>
            <h6 class="news-source" id="news-source"></h6>
            <p class="news-desc" id="news-desc"></p>
        </div>
    </div>

    <div id="pagination-container">
        <button class="btn btn-primary" id="first_btn" onclick="goToFirstPage()">First</button>
        <button id="prev_btn" class="btn btn-primary" onclick="goToPage(-1)">Previous</button>
        <span id="current-page-btn" class="btn btn-secondary disabled"></span>
        <button id="next_btn" onclick="goToPage(1)" class="btn btn-primary">Next</button>
        <button id="last_btn" onclick="goToLastPage()" class="btn btn-primary">Last</button>
    </div>


    <script src="js/script.js"></script>
    <script src="js/pagination.js"></script>

    <script>
        // Check if the user is logged in
        const isLoggedIn = sessionStorage.getItem('isLoggedIn');
        if (isLoggedIn === 'true') {
            // User is logged in, show the Logout button
            const logoutButton = document.getElementById('logout-button');
            logoutButton.style.display = 'block';

            // Hide the Register and Login links
            const registerLink = document.getElementById('register');
            registerLink.style.display = 'none';

            const loginLink = document.getElementById('login');
            loginLink.style.display = 'none';

            // Add an event listener to the logout button
            logoutButton.addEventListener('click', function () {
                // Clear session storage and redirect to the login page
                sessionStorage.clear();
                window.location.href = 'login.html';
            });
        } else {
            // User is not logged in, show the Register and Login links
            const registerLink = document.getElementById('register');
            registerLink.style.display = 'block';

            const loginLink = document.getElementById('login');
            loginLink.style.display = 'block';
        }

    </script>

</body>

</html>